{"record_type":"meta","schema_version":"1","generated_at":"2026-01-28 04:45:26","source":"sqlite"}
{"record_type":"feature","name":"graph-ui-enhancements","description":"Enhance the graph UI with better visual feedback and cleaner server output.","specification":"1. Update feature headers to show 'completed / total' tasks, turning green when finished.\n2. Implement status-specific glow effects for nodes (Available: Gold, In-Progress: Bright Yellow, others: status color).\n3. Remove all node outlines.\n4. Silence the graph server's request logging in the terminal.","created_at":"2026-01-28 03:32:46","updated_at":"2026-01-28 03:32:46"}
{"record_type":"feature","name":"misc","description":"Default feature for uncategorized tasks","specification":"Use this feature in cases where a task is minimal and does not require a feature, such as minor hotfixes, tweaks etc.","created_at":"2026-01-27 22:55:47","updated_at":"2026-01-27 22:55:47"}
{"record_type":"feature","name":"package-readiness","description":"Improve package structure and metadata for external consumption, making it idiomatic for path-linked installation.","specification":"- Move 'ruff' from 'dependencies' to 'dependency-groups.dev' in pyproject.toml.\n- Implement 'tasktree mcp' command in 'src/tasktree/cli/main.py' with '--port' support.\n- Create 'src/tasktree/__main__.py' to allow 'python -m tasktree' invocation.\n- Ensure all new CLI features are covered by integration tests.","created_at":"2026-01-27 22:45:02","updated_at":"2026-01-27 22:45:02"}
{"record_type":"feature","name":"snapshot-restore","description":"Automatically restore project state from the snapshot JSONL file during database initialization.","specification":"The `tasktree init` command should check for the existence of `.tasktree/tasktree.io.snapshot.jsonl`. If found, it should call the existing `import_snapshot` logic to populate the database with features, tasks, and dependencies. This ensures that a fresh clone of a repository can be immediately populated with the project's task state.","created_at":"2026-01-27 22:03:48","updated_at":"2026-01-27 22:03:48"}
{"record_type":"feature","name":"taskfile-refactor","description":"Modernize Taskfile to use the package CLI instead of manual scripts and SQL piping.","specification":"- Replace manual 'sqlite3' calls in 'init-db' and 'create-db' with 'tasktree init'.\n- Replace manual 'python src/tasktree/mcp/server.py' with 'tasktree mcp'.\n- Replace manual 'python src/tasktree/graph/server.py' with 'tasktree start'.\n- Ensure the Taskfile remains compatible with the local development environment.","created_at":"2026-01-27 22:45:03","updated_at":"2026-01-27 22:45:03"}
{"record_type":"feature","name":"ui-demonstrations","description":"Features for demonstrating UI enhancements.","specification":"Feature set created to show off the magical glow and wizard animations.","created_at":"2026-01-28 04:45:21","updated_at":"2026-01-28 04:45:21"}
{"record_type":"task","name":"add-package-main","description":"Add __main__.py entry point.","specification":"- Create 'src/tasktree/__main__.py'.\n- It should import and call the 'cli' object from 'tasktree.cli.main'.\n- Verify that 'python -m tasktree --help' works as expected.","feature_name":"package-readiness","tests_required":true,"priority":5,"status":"completed","created_at":"2026-01-27 22:45:05","updated_at":"2026-01-27 22:52:16","started_at":"2026-01-27 22:50:47","completed_at":"2026-01-27 22:52:16"}
{"record_type":"task","name":"cli-init-snapshot-integration","description":"Integrate import_snapshot into the init CLI command.","specification":"1. Update `src/tasktree/cli/main.py` to import `import_snapshot` from `tasktree.io.snapshot`.\n2. Update the `init` command logic: after `initialize_database` succeeds, check if the default snapshot file exists (usually `.tasktree/tasktree.io.snapshot.jsonl`).\n3. If it exists, call `import_snapshot(db_path, snapshot_path, overwrite=False)`.\n4. Add a console message indicating that the database was restored from the snapshot.\n\nAcceptance Criteria:\n- Running `tasktree init` in a directory with a valid snapshot file results in a database containing all records from that snapshot.\n- If no snapshot file exists, `tasktree init` still completes successfully with an empty (but schema-ready) database.","feature_name":"snapshot-restore","tests_required":true,"priority":9,"status":"completed","created_at":"2026-01-27 22:03:48","updated_at":"2026-01-27 22:23:57","started_at":"2026-01-27 22:20:01","completed_at":"2026-01-27 22:23:57"}
{"record_type":"task","name":"dynamic-node-glow-and-styling","description":"Implement status-specific glow effects and remove node strokes.","specification":"1. Remove all node outlines (strokes) in graph.js.\n2. Define multiple SVG filters in index.html for different glow colors.\n3. Apply filters dynamically in graph.js:\n   - Available: Gold glow (#FFC107)\n   - In-progress: Bright Yellow glow (#FFFF00)\n   - Others: Glow their respective status color.","feature_name":"graph-ui-enhancements","tests_required":true,"priority":7,"status":"completed","created_at":"2026-01-28 03:32:47","updated_at":"2026-01-28 03:35:30","started_at":"2026-01-28 03:33:24","completed_at":"2026-01-28 03:35:30"}
{"record_type":"task","name":"feature-header-progress-display","description":"Update the feature list panel to show completion progress.","specification":"Modify updateTaskList in src/tasktree/graph/assets/graph_assets/graph.js. Feature headers should display count as 'completed / total'. The count text should turn green (#4CAF50) when all tasks in that feature are completed.","feature_name":"graph-ui-enhancements","tests_required":true,"priority":5,"status":"completed","created_at":"2026-01-28 03:32:47","updated_at":"2026-01-28 03:38:18","started_at":"2026-01-28 03:35:48","completed_at":"2026-01-28 03:38:18"}
{"record_type":"task","name":"implement-mcp-cli","description":"Add 'mcp' command to the CLI.","specification":"- Add an 'mcp' command to 'src/tasktree/cli/main.py'.\n- Support a '--port' option (defaulting to a sensible value or using FastMCP defaults).\n- The command should invoke 'mcp.run()' from 'tasktree.mcp.server'.\n- Add integration tests verifying the command exists and parses arguments correctly.","feature_name":"package-readiness","tests_required":true,"priority":7,"status":"completed","created_at":"2026-01-27 22:45:04","updated_at":"2026-01-27 22:50:17","started_at":"2026-01-27 22:47:43","completed_at":"2026-01-27 22:50:17"}
{"record_type":"task","name":"move-ruff-to-dev","description":"Move ruff from production to dev dependencies.","specification":"- Edit pyproject.toml to move 'ruff' from 'project.dependencies' to 'dependency-groups.dev'.\n- Run 'uv sync' to update the lockfile.\n- Verify that 'ruff' is no longer considered a production dependency.","feature_name":"package-readiness","tests_required":false,"priority":3,"status":"completed","created_at":"2026-01-27 22:45:04","updated_at":"2026-01-27 23:01:47","started_at":"2026-01-27 23:00:59","completed_at":"2026-01-27 23:01:47"}
{"record_type":"task","name":"refine-pending-and-available-node-styling","description":"Differentiate between pending and available tasks using color and glow effects.","specification":"1. Update index.html: Change glow-available filter to use #2196F3. Update legend to show Pending (Dull Blue, no glow) and Available (Bright Blue, blue glow).\n2. Update graph.js: Set STATUS_COLORS.pending to #4A6984. Update getNodeColor to return #2196F3 for available tasks. Ensure available tasks use glow-available filter and pending (non-available) tasks use no filter.","feature_name":"graph-ui-enhancements","tests_required":false,"priority":6,"status":"completed","created_at":"2026-01-28 03:41:36","updated_at":"2026-01-28 03:48:47","started_at":"2026-01-28 03:48:20","completed_at":"2026-01-28 03:48:47"}
{"record_type":"task","name":"reposition-node-labels-top-right","description":"Move node labels from the center to the top-right of the nodes.","specification":"1. Update index.html: Modify .node-label CSS to remove text-anchor: middle and add a subtle text-shadow for legibility.\n2. Update graph.js: In the ticked function, update label x and y positions to be offset to the top-right based on the node's radius (e.g., x = d.x + radius * 0.7, y = d.y - radius * 0.7).","feature_name":"graph-ui-enhancements","tests_required":false,"priority":4,"status":"completed","created_at":"2026-01-28 03:44:02","updated_at":"2026-01-28 03:48:47","started_at":"2026-01-28 03:48:20","completed_at":"2026-01-28 03:48:47"}
{"record_type":"task","name":"silence-server-logging","description":"Stop the HTTP server from printing every GET request to the terminal.","specification":"Modify src/tasktree/graph/server.py to override the log_message method in GraphAPIHandler to be a no-op. Ensure initial startup messages are still displayed.","feature_name":"graph-ui-enhancements","tests_required":false,"priority":3,"status":"completed","created_at":"2026-01-28 03:32:47","updated_at":"2026-01-28 03:48:20","started_at":"2026-01-28 03:38:42","completed_at":"2026-01-28 03:40:32"}
{"record_type":"task","name":"taskfile-use-cli-graph","description":"Update Taskfile graph tasks to use CLI.","specification":"- Update 'web-graph' task in Taskfile.yml to use 'tasktree start'.\n- Ensure background process handling and browser opening still work.\n- Verify 'task web' launches the graph server correctly.","feature_name":"taskfile-refactor","tests_required":true,"priority":5,"status":"completed","created_at":"2026-01-27 22:45:07","updated_at":"2026-01-27 22:58:53","started_at":"2026-01-27 22:57:23","completed_at":"2026-01-27 22:58:53"}
{"record_type":"task","name":"taskfile-use-cli-init","description":"Update Taskfile init tasks to use CLI.","specification":"- Update 'init-db' and 'create-db' in Taskfile.yml to use 'tasktree init'.\n- Remove manual 'sqlite3' piping and 'mkdir -p data' if redundant.\n- Verify 'task init' works in a clean environment.","feature_name":"taskfile-refactor","tests_required":true,"priority":5,"status":"completed","created_at":"2026-01-27 22:45:06","updated_at":"2026-01-27 22:56:59","started_at":"2026-01-27 22:52:39","completed_at":"2026-01-27 22:56:59"}
{"record_type":"task","name":"taskfile-use-cli-mcp","description":"Update Taskfile mcp task to use CLI.","specification":"- Update 'mcp' task in Taskfile.yml to use 'tasktree mcp'.\n- Verify 'task mcp' launches the server correctly.","feature_name":"taskfile-refactor","tests_required":true,"priority":5,"status":"completed","created_at":"2026-01-27 22:45:07","updated_at":"2026-01-27 23:00:38","started_at":"2026-01-27 22:59:15","completed_at":"2026-01-27 23:00:38"}
{"record_type":"task","name":"wizard-spell-demonstration","description":"Demonstrate the magical wizard pulse effect in the Web UI.","specification":"1. Add this task.\\n2. Start this task using `tasktree_start_task`.\\n3. Verify the pulsing glow effect in the Web UI at http://localhost:8000.","feature_name":"ui-demonstrations","tests_required":true,"priority":10,"status":"in_progress","created_at":"2026-01-28 04:45:24","updated_at":"2026-01-28 04:45:26","started_at":"2026-01-28 04:45:26","completed_at":null}
{"record_type":"dependency","task_name":"refine-pending-and-available-node-styling","depends_on_task_name":"dynamic-node-glow-and-styling"}
{"record_type":"dependency","task_name":"reposition-node-labels-top-right","depends_on_task_name":"dynamic-node-glow-and-styling"}
{"record_type":"dependency","task_name":"taskfile-use-cli-graph","depends_on_task_name":"add-package-main"}
{"record_type":"dependency","task_name":"taskfile-use-cli-init","depends_on_task_name":"add-package-main"}
{"record_type":"dependency","task_name":"taskfile-use-cli-mcp","depends_on_task_name":"implement-mcp-cli"}
