{"record_type":"meta","schema_version":"1","generated_at":"2026-01-27 07:46:56","source":"sqlite"}
{"record_type":"feature","name":"cli","description":"Command-line interface for TaskTree","specification":"Add a CLI interface for TaskTree that provides basic commands for managing tasks and the graph server:\n\nCommands:\n- init: Create database in .tasktree directory, apply schemas and views\n- start: Run graph web server (optionally as background process)  \n- reset: Delete all data from database while preserving schema\n\nThe CLI should be installable as a console script and use the existing path resolution logic from core/paths.py to locate the database. Should integrate with existing database initialization code in db/init.py and graph server from graph/server.py.","created_at":"2026-01-27 06:24:05","updated_at":"2026-01-27 06:24:05"}
{"record_type":"feature","name":"mcp-improvements","description":"Improvements to the MCP server tools and functionality","specification":"Feature for MCP server improvements including making specification required for all tasks, enhancing validation, and improving tool functionality.","created_at":"2026-01-27 06:37:53","updated_at":"2026-01-27 06:37:53"}
{"record_type":"feature","name":"misc","description":"Default feature for uncategorized tasks","specification":"Use this feature in cases where a task is minimal and does not require a feature, such as minor hotfixes, tweaks etc.","created_at":"2026-01-27 05:16:02","updated_at":"2026-01-27 05:16:02"}
{"record_type":"feature","name":"web-ui-enhancement","description":"Improve the UI of the graph web server.","specification":"Enhance the graph web server UI with a clearer layout, refined styling, and better usability while preserving existing functionality.","created_at":"2026-01-27 05:18:11","updated_at":"2026-01-27 05:18:11"}
{"record_type":"task","name":"add-cli-dependencies","description":"Add typer CLI framework dependency to pyproject.toml","specification":"Add typer CLI framework dependency to pyproject.toml","feature_name":"cli","tests_required":true,"priority":8,"status":"pending","created_at":"2026-01-27 06:26:51","updated_at":"2026-01-27 06:26:51","started_at":null,"completed_at":null}
{"record_type":"task","name":"add-console-script-entry-point","description":"Add tasktree console script entry point to pyproject.toml project.scripts section","specification":"Add tasktree console script entry point to pyproject.toml project.scripts section","feature_name":"cli","tests_required":true,"priority":8,"status":"pending","created_at":"2026-01-27 06:28:34","updated_at":"2026-01-27 06:28:34","started_at":null,"completed_at":null}
{"record_type":"task","name":"add-feature-color-coding-to-ui","description":"Add predefined color palette system to color code feature headers in the task list UI while preserving existing status-based color system.","specification":"## Implementation Plan\n\n### Phase 1: Backend Color System\n1. Create predefined color palette (8-10 distinct colors with good contrast):\n   - #FF6B6B (Coral Red)\n   - #4ECDC4 (Turquoise) \n   - #45B7D1 (Sky Blue)\n   - #96CEB4 (Sage Green)\n   - #FECA57 (Golden Yellow)\n   - #B983FF (Lavender)\n   - #FD79A8 (Pink)\n   - #A29BFE (Periwinkle)\n   - #6C5CE7 (Purple)\n   - #00B894 (Emerald)\n\n2. Add color assignment logic in server.py:\n   - Map each feature to a palette color using consistent hashing\n   - Include feature color in /api/tasks response\n   - Use hash-based assignment: hash(feature_name) % len(colors)\n\n3. Extend API response to include feature_color field for each task\n\n### Phase 2: Frontend UI Updates\n1. Update feature headers in task list:\n   - Add colored left border (3-4px) to feature header boxes\n   - Use glass-morphism effect with feature color tint\n   - Maintain existing chevron, name, count, and layout\n\n2. Preserve existing functionality:\n   - Keep status colors for task dots and graph nodes\n   - Maintain expand/collapse behavior\n   - Preserve auto-refresh and state management\n\n### File Changes Required\n- src/tasktree/graph/server.py: Add color assignment function and extend /api/tasks response\n- No CSS/JS changes needed - colors applied via inline styles in generated HTML\n\n### API Response Extension\nEach task object in /api/tasks will include feature_color field alongside existing fields.\n\n### Testing Strategy\n- Verify all features get assigned colors consistently\n- Test color contrast and readability\n- Ensure status colors remain unchanged\n- Validate across different feature counts\n- Check color persistence during auto-refresh","feature_name":"web-ui-enhancement","tests_required":false,"priority":4,"status":"completed","created_at":"2026-01-27 05:59:21","updated_at":"2026-01-27 07:01:30","started_at":"2026-01-27 06:57:47","completed_at":"2026-01-27 07:01:30"}
{"record_type":"task","name":"create-cli-module-structure","description":"Create src/tasktree/cli package with main.py entry point using typer framework","specification":"Create src/tasktree/cli package with main.py entry point using typer framework","feature_name":"cli","tests_required":true,"priority":8,"status":"pending","created_at":"2026-01-27 06:27:12","updated_at":"2026-01-27 06:27:12","started_at":null,"completed_at":null}
{"record_type":"task","name":"graph-gold-glow-available-inprogress","description":"Align available task outline/glow with in-progress gold styling.","specification":"Update the graph UI so available tasks use the same gold outline as in-progress nodes (#FFC107). Apply the glow effect to both available and in-progress nodes, using the gold color. Ensure the legend reflects the gold glow/outline meaning for available and in-progress tasks.","feature_name":"web-ui-enhancement","tests_required":false,"priority":5,"status":"completed","created_at":"2026-01-27 05:29:38","updated_at":"2026-01-27 06:06:33","started_at":"2026-01-27 06:02:21","completed_at":"2026-01-27 06:06:33"}
{"record_type":"task","name":"graph-ui-task-ordering-created-at","description":"Order graph UI tasks by status, priority, created_at.","specification":"Update graph UI /api/tasks ordering to status bucket, then priority desc, then created_at asc. Leave TaskRepository.list_tasks ordering unchanged.","feature_name":"web-ui-enhancement","tests_required":false,"priority":5,"status":"completed","created_at":"2026-01-27 05:43:10","updated_at":"2026-01-27 06:35:28","started_at":"2026-01-27 06:18:46","completed_at":"2026-01-27 06:35:28"}
{"record_type":"task","name":"implement-init-command","description":"Implement tasktree init command that creates database in .tasktree directory using existing path resolution and database initialization logic","specification":"Implement tasktree init command that creates database in .tasktree directory using existing path resolution and database initialization logic","feature_name":"cli","tests_required":true,"priority":8,"status":"pending","created_at":"2026-01-27 06:27:28","updated_at":"2026-01-27 06:27:28","started_at":null,"completed_at":null}
{"record_type":"task","name":"implement-reset-command","description":"Implement tasktree reset command that deletes all data from database while preserving schema","specification":"Implement tasktree reset command that deletes all data from database while preserving schema","feature_name":"cli","tests_required":true,"priority":8,"status":"pending","created_at":"2026-01-27 06:28:10","updated_at":"2026-01-27 06:28:10","started_at":null,"completed_at":null}
{"record_type":"task","name":"implement-start-command","description":"Implement tasktree start command that runs the graph web server using existing graph/server.py functionality","specification":"Implement tasktree start command that runs the graph web server using existing graph/server.py functionality","feature_name":"cli","tests_required":true,"priority":8,"status":"pending","created_at":"2026-01-27 06:27:53","updated_at":"2026-01-27 06:27:53","started_at":null,"completed_at":null}
{"record_type":"task","name":"increase-feature-header-height","description":"Increase the height of feature header dropdowns to improve usability and visual hierarchy.","specification":"## Problem\nThe feature header dropdowns in the task list UI are too short, with only 10px padding top/bottom, making them difficult to interact with and visually cramped.\n\n## Solution\nIncrease the height of feature headers by modifying the CSS padding in the `.feature-main-info` class.\n\n## Implementation Details\n1. **File to modify**: `src/tasktree/graph/assets/graph_assets/index.html`\n2. **CSS class to update**: `.feature-main-info` (lines 101-106)\n3. **Change**: Update padding from `10px 12px` to `14px 12px`\n4. **Rationale**: \n   - Provides approximately 40% more vertical space\n   - Creates larger clickable area for better UX\n   - Maintains proper visual hierarchy with task items\n   - Preserves existing horizontal spacing and layout\n\n## Expected Outcome\n- Feature headers are noticeably taller and easier to click\n- Better visual balance between feature headers and task items\n- Improved usability without breaking existing functionality\n- Expanded state maintains proper proportions automatically","feature_name":"web-ui-enhancement","tests_required":false,"priority":4,"status":"completed","created_at":"2026-01-27 06:18:10","updated_at":"2026-01-27 06:56:42","started_at":"2026-01-27 06:53:50","completed_at":"2026-01-27 06:54:09"}
{"record_type":"task","name":"make-specification-required-in-add-task","description":"Make specification argument required in add_task MCP tool","specification":"Update the add_task MCP tool in src/tasktree/mcp/tools.py to make the specification parameter required:\n\n1. Change the function signature to remove Optional[str] default and None value for specification\n2. Update the docstring to indicate specification is required \n3. Add validate_specification() call for the specification parameter\n4. Update AddTaskRequest model to require specification (remove Optional typing)\n5. Update Task model to require specification (remove Optional typing)\n6. Update TaskRepository.add_task to require specification parameter\n7. Add tests to verify specification is now required and validates properly\n8. Update any related model classes to reflect this change\n\nThe goal is to ensure all tasks must have a detailed specification describing what needs to be implemented, improving task quality and clarity.","feature_name":"mcp-improvements","tests_required":true,"priority":7,"status":"pending","created_at":"2026-01-27 06:38:51","updated_at":"2026-01-27 06:38:51","started_at":null,"completed_at":null}
{"record_type":"task","name":"order-features-by-created-at","description":"Order feature folders by most recently created in the task list UI.","specification":"Sort feature folders in the task list UI by feature created_at descending (most recent first). Use features.created_at from the tasks API payload (extend /api/tasks to include feature_created_at). Keep per-feature task ordering unchanged.","feature_name":"web-ui-enhancement","tests_required":false,"priority":6,"status":"completed","created_at":"2026-01-27 05:26:56","updated_at":"2026-01-27 06:01:40","started_at":"2026-01-27 05:54:04","completed_at":"2026-01-27 06:01:40"}
{"record_type":"task","name":"rework-task-list-by-feature","description":"Rework the task list UI into expandable feature folders.","specification":"Replace the feature dropdown filter with a folder-style list grouped by feature. Each feature renders a collapsible header (name + count + chevron) that toggles its task list; all features are collapsed by default. Tasks render with the existing task item card and details toggle behavior. Preserve expanded/collapsed state for features and task details across auto-refresh. No null feature handling is needed; all tasks have a feature.","feature_name":"web-ui-enhancement","tests_required":false,"priority":7,"status":"completed","created_at":"2026-01-27 05:24:50","updated_at":"2026-01-27 05:50:02","started_at":"2026-01-27 05:44:48","completed_at":"2026-01-27 05:50:02"}
{"record_type":"task","name":"show-feature-info-in-task-list","description":"Show feature description and created_at in the task list UI.","specification":"Display feature description and created_at timestamp in the feature header of the task list UI. Use raw created_at text (no formatting). Extend /api/tasks to include feature_description and feature_created_at fields so the UI can render them. Preserve task item layout and expand/collapse behavior.","feature_name":"web-ui-enhancement","tests_required":false,"priority":5,"status":"completed","created_at":"2026-01-27 05:41:08","updated_at":"2026-01-27 06:17:26","started_at":"2026-01-27 06:07:08","completed_at":"2026-01-27 06:17:26"}
{"record_type":"task","name":"task-list-feature-color-inheritance","description":"Make task list items inherit their feature's color styling","specification":"Update the task list HTML generation in the graph server to apply feature color styling to task items. The task list items should inherit the color of their parent feature while preserving the existing status color coding for status indicators.\n\nSpecific changes needed:\n1. Apply feature color as a subtle background or border to task items\n2. Keep the existing status color dots unchanged for status indication\n3. Ensure the feature color styling is consistent with the feature header styling\n4. Maintain the existing expand/collapse functionality and task details display\n\nThe styling should be applied in the _handle_root_request method where task items HTML is generated, using the existing _get_feature_color method to get the feature color.","feature_name":"web-ui-enhancement","tests_required":true,"priority":5,"status":"pending","created_at":"2026-01-27 07:34:48","updated_at":"2026-01-27 07:34:48","started_at":null,"completed_at":null}
{"record_type":"task","name":"write-cli-tests","description":"Write comprehensive tests for all CLI commands using temporary directories and existing test fixtures","specification":"Write comprehensive tests for all CLI commands using temporary directories and existing test fixtures","feature_name":"cli","tests_required":true,"priority":6,"status":"pending","created_at":"2026-01-27 06:28:38","updated_at":"2026-01-27 06:28:38","started_at":null,"completed_at":null}
{"record_type":"dependency","task_name":"add-console-script-entry-point","depends_on_task_name":"implement-init-command"}
{"record_type":"dependency","task_name":"add-console-script-entry-point","depends_on_task_name":"implement-reset-command"}
{"record_type":"dependency","task_name":"add-console-script-entry-point","depends_on_task_name":"implement-start-command"}
{"record_type":"dependency","task_name":"add-feature-color-coding-to-ui","depends_on_task_name":"show-feature-info-in-task-list"}
{"record_type":"dependency","task_name":"create-cli-module-structure","depends_on_task_name":"add-cli-dependencies"}
{"record_type":"dependency","task_name":"implement-init-command","depends_on_task_name":"create-cli-module-structure"}
{"record_type":"dependency","task_name":"implement-reset-command","depends_on_task_name":"create-cli-module-structure"}
{"record_type":"dependency","task_name":"implement-start-command","depends_on_task_name":"create-cli-module-structure"}
{"record_type":"dependency","task_name":"order-features-by-created-at","depends_on_task_name":"rework-task-list-by-feature"}
{"record_type":"dependency","task_name":"show-feature-info-in-task-list","depends_on_task_name":"order-features-by-created-at"}
{"record_type":"dependency","task_name":"show-feature-info-in-task-list","depends_on_task_name":"rework-task-list-by-feature"}
{"record_type":"dependency","task_name":"write-cli-tests","depends_on_task_name":"implement-init-command"}
{"record_type":"dependency","task_name":"write-cli-tests","depends_on_task_name":"implement-reset-command"}
{"record_type":"dependency","task_name":"write-cli-tests","depends_on_task_name":"implement-start-command"}
